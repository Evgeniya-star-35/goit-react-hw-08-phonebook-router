{"version":3,"sources":["redux/Phonebook/phonebook-slice.js","redux/auth/auth-slice.js","redux/store.js","components/Navigation/Navigation.js","images/user.jpg","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","routes/PrivateRoute.js","routes/PublicRoute.js","components/Container/Container.js","components/App/App.js","index.js","redux/Phonebook/phonebook-operations.js","redux/auth/auth-operations.js","redux/auth/auth-selectors.js","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","redux/Phonebook/phonebook-actions.js","components/AppBar/AppBar.module.css","components/Container/Container.module.css"],"names":["contactsSlice","createSlice","name","initialState","contacts","isLoading","error","extraReducers","addContact","fulfilled","state","payload","pending","rejected","deleteContact","filter","id","fetchContacts","createReducer","changeFilter","_","authSlice","user","email","token","isAuth","isGetCurrentUser","register","logIn","logOut","getCurrentUser","authPersistConfig","key","storage","whitelist","authPersistReducer","persistReducer","authReducer","store","configureStore","reducer","contactsReducer","auth","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REGISTER","PAUSE","REHYDRATE","PERSIST","PURGE","devTools","process","persistor","persistStore","Navigation","to","className","isActive","s","activeLink","link","UserMenu","dispatch","useDispatch","useSelector","getUserName","avatar","defaultAvatar","container","src","alt","width","height","button","type","onClick","toast","info","position","autoClose","AuthNav","AppBar","getIsAuth","header","PrivateRoute","Component","component","PublicRoute","Container","children","HomePage","lazy","Register","Login","Phonebook","App","isFetchCurrentUser","getIsFetchCurrentUser","useEffect","fallback","path","element","ReactDOM","render","StrictMode","loading","document","getElementById","axios","defaults","baseURL","createAsyncThunk","a","rejectWithValue","get","data","contact","post","contactId","delete","headers","common","Authorization","userData","rejectWidthValue","getState","persistToken","module","exports","createAction"],"mappings":"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","file":"static/js/main.64d44920.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\n\r\nimport {\r\n  addContact,\r\n  fetchContacts,\r\n  deleteContact,\r\n} from './phonebook-operations';\r\nimport { changeFilter } from './phonebook-actions';\r\nconst initialContactsState = {\r\n  contacts: [],\r\n  isLoading: false,\r\n  //   filter: '',\r\n  error: null,\r\n};\r\n\r\nconst contactsSlice = createSlice({\r\n  name: 'contacts',\r\n  initialState: initialContactsState,\r\n  extraReducers: {\r\n    [addContact.fulfilled]: (state, { payload }) => {\r\n      state.contacts = [...state.contacts, payload];\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [addContact.pending]: state => {\r\n      state.isLoading = true;\r\n    },\r\n    [addContact.rejected]: (state, { payload }) => {\r\n      state.error = payload;\r\n      state.isLoading = false;\r\n    },\r\n    [deleteContact.fulfilled]: (state, { payload }) => {\r\n      state.contacts = state.contacts.filter(({ id }) => id !== payload);\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [deleteContact.pending]: state => {\r\n      state.isLoading = true;\r\n    },\r\n    [deleteContact.rejected]: (state, { payload }) => {\r\n      state.error = payload;\r\n      state.isLoading = false;\r\n    },\r\n    [fetchContacts.fulfilled]: (state, { payload }) => {\r\n      state.contacts = payload;\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [fetchContacts.pending]: state => {\r\n      state.isLoading = true;\r\n    },\r\n    [fetchContacts.rejected]: (state, { payload }) => {\r\n      state.error = payload;\r\n      state.isLoading = false;\r\n    },\r\n  },\r\n});\r\nexport const filter = createReducer('', {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\nexport default contactsSlice.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport { register, logOut, logIn, getCurrentUser } from './auth-operations';\r\n\r\nconst initialState = {\r\n  user: { name: '', email: '' },\r\n  token: '',\r\n  isAuth: false,\r\n  isGetCurrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [register.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isAuth = true;\r\n    },\r\n    [logIn.fulfilled](state, { payload }) {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isAuth = true;\r\n      // state.isGetCurrentUser = true;\r\n    },\r\n    [logOut.fulfilled](state, _) {\r\n      state.user = { name: '', email: '' };\r\n      state.token = '';\r\n      state.isAuth = false;\r\n    },\r\n    [getCurrentUser.pending](state) {\r\n      state.isGetCurrentUser = false;\r\n    },\r\n    [getCurrentUser.fulfilled](state, { payload }) {\r\n      state.user = payload;\r\n      state.isAuth = true;\r\n    },\r\n    [getCurrentUser.rejected](state) {\r\n      state.isGetCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\n// import contactsReducer from './Phonebook/phonebook-reducer';\r\nimport contactsReducer, { filter } from './Phonebook/phonebook-slice';\r\nimport authReducer from './auth/auth-slice';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\nconst authPersistReducer = persistReducer(authPersistConfig, authReducer);\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactsReducer,\r\n    filter,\r\n    auth: authPersistReducer,\r\n  },\r\n  middleware: getDefaultMiddleware =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REGISTER, PAUSE, REHYDRATE, PERSIST, PURGE],\r\n      },\r\n    }),\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\n\r\nconst Navigation = () => (\r\n  <nav>\r\n    <NavLink\r\n      to=\"/\"\r\n      className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n    >\r\n      Home\r\n    </NavLink>\r\n\r\n    <NavLink\r\n      to=\"/contacts\"\r\n      className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n    >\r\n      Phonebook\r\n    </NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/user.96db366d.jpg\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport { logOut } from '../../redux/auth/auth-operations';\r\nimport { getUserName } from '../../redux/auth/auth-selectors';\r\nimport defaultAvatar from '../../images/user.jpg';\r\nimport s from './UserMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(getUserName);\r\n  const avatar = defaultAvatar;\r\n  const handleLogOut = () => {\r\n    dispatch(logOut());\r\n    toast.info('You logged out of your account !', {\r\n      position: 'top-center',\r\n      autoClose: 4000,\r\n    });\r\n  };\r\n  return (\r\n    <div className={s.container}>\r\n      <img\r\n        src={avatar}\r\n        alt=\"avatar\"\r\n        width=\"32\"\r\n        height=\"32\"\r\n        className={s.avatar}\r\n      />\r\n      <span className={s.name}>Welcome,{name}!</span>\r\n      <button className={s.button} type=\"button\" onClick={handleLogOut}>\r\n        Log out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav';\r\nimport { getIsAuth } from '../../redux/auth/auth-selectors';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isAuth = useSelector(getIsAuth);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isAuth ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { Navigate } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({ isAuth, component: Component }) {\r\n  return <>{isAuth ? <Component /> : <Navigate to=\"/login\" />}</>;\r\n}\r\n","import { Navigate } from 'react-router-dom';\r\n\r\nexport default function PublicRoute({ isAuth, component: Component }) {\r\n  return <>{isAuth ? <Navigate to=\"/contacts\" /> : <Component />}</>; //здесь добавила /contacts вместо /,перестали идти бесконечные запросы,но не рендерится homepage\r\n}\r\n","import s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","import { Suspense, lazy, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Routes, Route } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AppBar from '../AppBar/AppBar';\nimport {\n  getIsFetchCurrentUser,\n  getIsAuth,\n} from '../../redux/auth/auth-selectors';\nimport PrivateRoute from '../../routes/PrivateRoute';\nimport PublicRoute from '../../routes/PublicRoute';\nimport Container from '../../components/Container';\nimport { getCurrentUser } from '../../redux/auth/auth-operations';\nimport { fetchContacts } from '../../redux/Phonebook/phonebook-operations';\n\nconst HomePage = lazy(() =>\n  import(\n    '../../pages/HomePage/HomePage.js' /* webpackChunkName: \"home-page\" */\n  ),\n);\nconst Register = lazy(() =>\n  import(\n    '../../pages/Register/Register.js' /* webpackChunkName: \"register-page\" */\n  ),\n);\nconst Login = lazy(() =>\n  import('../../pages/Login/Login.js' /* webpackChunkName: \"login-page\" */),\n);\nconst Phonebook = lazy(() =>\n  import(\n    '../../pages/Phonebook/Phonebook.js' /* webpackChunkName: \"phonebook-page\" */\n  ),\n);\nconst App = () => {\n  const dispatch = useDispatch();\n  const isFetchCurrentUser = useSelector(getIsFetchCurrentUser);\n  const isAuth = useSelector(getIsAuth);\n\n  useEffect(() => {\n    dispatch(getCurrentUser());\n    dispatch(fetchContacts());\n  }, [dispatch]);\n  return (\n    !isFetchCurrentUser && (\n      <>\n        <AppBar />\n        <ToastContainer />\n        <Container>\n          <Suspense fallback={<Loader />}>\n            <Routes>\n              <Route\n                path=\"/\"\n                element={<PublicRoute isAuth={isAuth} component={HomePage} />}\n              />\n              <Route\n                path=\"/contacts\"\n                element={<PrivateRoute isAuth={isAuth} component={Phonebook} />}\n              />\n              <Route\n                path=\"/login\"\n                element={<PublicRoute isAuth={isAuth} component={Login} />}\n              />\n              <Route\n                path=\"/register\"\n                element={<PublicRoute isAuth={isAuth} component={Register} />}\n              />\n            </Routes>\n          </Suspense>\n        </Container>\n      </>\n    )\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { persistor, store } from './redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './components/App';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={<h2>Wait,loading...</h2>} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.get('/contacts');\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/addContact',\r\n  async (contact, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/contacts', contact);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (contactId, { rejectWithValue }) => {\r\n    try {\r\n      const {\r\n        data: { id },\r\n      } = await axios.delete(`/contacts/${contactId}`);\r\n\r\n      return id;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n","import axios from 'axios';\r\nimport { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const register = createAsyncThunk(\r\n  'auth/register',\r\n  async (userData, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/signup', userData);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\nexport const logIn = createAsyncThunk(\r\n  'auth/login',\r\n  async (userData, { rejectWithValue }) => {\r\n    try {\r\n      const { data } = await axios.post('/users/login', userData);\r\n      token.set(data.token);\r\n      return data;\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\nexport const logOut = createAsyncThunk(\r\n  'auth/logOut',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await axios.post('/users/logout');\r\n      token.unset();\r\n    } catch (error) {\r\n      rejectWithValue(error);\r\n    }\r\n  },\r\n);\r\n\r\nexport const getCurrentUser = createAsyncThunk(\r\n  'auth/refresh',\r\n  async (_, { rejectWidthValue, getState }) => {\r\n    const state = getState();\r\n    const persistToken = state.auth.token;\r\n    if (persistToken === null) {\r\n      return rejectWidthValue();\r\n    }\r\n    token.set(persistToken);\r\n    try {\r\n      const { data } = await axios.get('/users/current');\r\n      return data;\r\n    } catch (error) {\r\n      rejectWidthValue(error);\r\n    }\r\n  },\r\n);\r\n","export const getIsAuth = state => state.auth.isAuth;\r\nexport const getUserName = state => state.auth.user.name;\r\nexport const getIsFetchCurrentUser = state => state.auth.isGetCurrentUser;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3nKxS\",\"activeLink\":\"Navigation_activeLink__LJoVl Navigation_link__3nKxS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__32cjC\",\"avatar\":\"UserMenu_avatar__2Ripq\",\"name\":\"UserMenu_name__3U9Ps\",\"button\":\"UserMenu_button__3k-h9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__34s-z\",\"activeLink\":\"AuthNav_activeLink__3iQid AuthNav_link__34s-z\"};","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const changeFilter = createAction('contact/changeFilter');\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__oS1-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__NkA0d\"};"],"sourceRoot":""}