{"version":3,"sources":["redux/auth/auth-slice.js","redux/store.js","components/Navigation/Navigation.js","images/user.jpg","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","routes/PrivateRoute.js","routes/PublicRoute.js","components/Container/Container.js","components/App/App.js","index.js","services/contactsApi.js","redux/Phonebook/phonebook-operations.js","redux/auth/auth-selectors.js","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","redux/auth/auth-operations.js","redux/Phonebook/phonebook-slice.js","redux/auth/auth-actions.js","components/AppBar/AppBar.module.css","components/Container/Container.module.css"],"names":["registerRequest","authActions","registerSuccess","registerError","logInSuccess","logInError","logoutSuccess","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","authSlice","createSlice","name","initialState","user","email","token","isLoading","isAuth","error","isGetCurrentUser","extraReducers","state","payload","_","action","message","console","log","authPersistConfig","key","storage","whitelist","authPersistReducer","persistReducer","authReducer","store","configureStore","reducer","contacts","contactsSlice","auth","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REGISTER","PAUSE","REHYDRATE","PERSIST","PURGE","concat","logger","thunk","devTools","process","persistor","persistStore","Navigation","to","className","isActive","s","activeLink","link","UserMenu","dispatch","useDispatch","useSelector","getUserName","avatar","defaultAvatar","container","src","alt","width","height","button","type","onClick","logOut","toast","info","position","autoClose","AuthNav","AppBar","getIsAuth","header","PrivateRoute","Component","component","PublicRoute","Container","children","HomePage","lazy","Register","Login","Phonebook","App","isFetchCurrentUser","getIsFetchCurrentUser","useEffect","getCurrentUser","fallback","path","element","ReactDOM","render","StrictMode","loading","document","getElementById","fetchContacts","a","axios","get","data","addContact","contact","post","deleteContact","id","delete","defaults","baseURL","createAsyncThunk","rejectWithValue","contactsApi","items","isUserErrorRejected","module","exports","headers","common","Authorization","register","userData","then","response","catch","logIn","logInRequest","getState","persistedToken","logoutRequest","logoutError","filter","reducers","changeFilter","fulfilled","pending","rejected","push","actions","createAction"],"mappings":"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","file":"static/js/main.c613f210.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport authActions from './auth-actions';\r\nconst {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  logInSuccess,\r\n  logInError,\r\n  logoutSuccess,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n} = authActions;\r\nconst initialState = {\r\n  user: { name: '', email: '' },\r\n  token: '',\r\n  isLoading: false,\r\n  isAuth: false,\r\n  error: null,\r\n  isGetCurrentUser: false,\r\n};\r\n\r\nconst authSlice = createSlice({\r\n  name: 'auth',\r\n  initialState,\r\n  extraReducers: {\r\n    [registerSuccess]: (state, { payload }) => {\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isAuth = true;\r\n    },\r\n    [registerRequest]: (state, _) => {\r\n      state.isLoading = true;\r\n    },\r\n    [registerError]: (state, action) => {\r\n      state.error = action.payload.message;\r\n    },\r\n    [logInSuccess]: (state, { payload }) => {\r\n      console.log(payload);\r\n      state.user = payload.user;\r\n      state.token = payload.token;\r\n      state.isAuth = true;\r\n    },\r\n    [logInError]: (state, action) => {\r\n      state.error = action.payload;\r\n    },\r\n    [logoutSuccess]: (state, _) => {\r\n      state.user = { name: '', email: '' };\r\n      state.token = '';\r\n      state.isAuth = false;\r\n      state.error = null;\r\n    },\r\n    [getCurrentUserRequest]: state => {\r\n      state.isGetCurrentUser = false;\r\n    },\r\n    [getCurrentUserSuccess]: (state, { payload }) => {\r\n      state.user = payload;\r\n      state.isAuth = true;\r\n    },\r\n    [getCurrentUserError]: state => {\r\n      state.isGetCurrentUser = false;\r\n    },\r\n  },\r\n});\r\n\r\nexport default authSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport contactsSlice from './Phonebook/phonebook-slice';\r\nimport thunk from 'redux-thunk';\r\nimport authReducer from './auth/auth-slice';\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\nconst authPersistReducer = persistReducer(authPersistConfig, authReducer);\r\nexport const store = configureStore({\r\n  reducer: {\r\n    contacts: contactsSlice,\r\n    auth: authPersistReducer,\r\n  },\r\n  middleware: getDefaultMiddleware =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: [FLUSH, REGISTER, PAUSE, REHYDRATE, PERSIST, PURGE],\r\n      },\r\n    }).concat(logger),\r\n  thunk,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\nexport const persistor = persistStore(store);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navigation.module.css';\r\n\r\nconst Navigation = () => (\r\n  <nav>\r\n    <NavLink\r\n      to=\"/\"\r\n      className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n    >\r\n      Home\r\n    </NavLink>\r\n\r\n    <NavLink\r\n      to=\"/contacts\"\r\n      className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n    >\r\n      Phonebook\r\n    </NavLink>\r\n  </nav>\r\n);\r\n\r\nexport default Navigation;\r\n","export default __webpack_public_path__ + \"static/media/user.96db366d.jpg\";","import { useDispatch, useSelector } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\nimport { logOut } from '../../redux/auth/auth-operations';\r\nimport { getUserName } from '../../redux/auth/auth-selectors';\r\nimport defaultAvatar from '../../images/user.jpg';\r\nimport s from './UserMenu.module.css';\r\n\r\nexport default function UserMenu() {\r\n  const dispatch = useDispatch();\r\n  const name = useSelector(getUserName);\r\n  const avatar = defaultAvatar;\r\n  const handleLogOut = () => {\r\n    dispatch(logOut());\r\n    toast.info('You logged out of your account !', {\r\n      position: 'top-center',\r\n      autoClose: 2500,\r\n    });\r\n  };\r\n  return (\r\n    <div className={s.container}>\r\n      <img\r\n        src={avatar}\r\n        alt=\"avatar\"\r\n        width=\"32\"\r\n        height=\"32\"\r\n        className={s.avatar}\r\n      />\r\n      <span className={s.name}>Welcome,{name}!</span>\r\n      <button className={s.button} type=\"button\" onClick={handleLogOut}>\r\n        Log out\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css';\r\n\r\nexport default function AuthNav() {\r\n  return (\r\n    <div>\r\n      <NavLink\r\n        to=\"/register\"\r\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Registration\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/login\"\r\n        className={({ isActive }) => (isActive ? s.activeLink : s.link)}\r\n      >\r\n        Login\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport Navigation from '../Navigation';\r\nimport UserMenu from '../UserMenu';\r\nimport AuthNav from '../AuthNav';\r\nimport { getIsAuth } from '../../redux/auth/auth-selectors';\r\nimport s from './AppBar.module.css';\r\n\r\nexport default function AppBar() {\r\n  const isAuth = useSelector(getIsAuth);\r\n  return (\r\n    <header className={s.header}>\r\n      <Navigation />\r\n      {isAuth ? <UserMenu /> : <AuthNav />}\r\n    </header>\r\n  );\r\n}\r\n","import { Navigate } from 'react-router-dom';\r\n\r\nexport default function PrivateRoute({ isAuth, component: Component }) {\r\n  return <>{isAuth ? <Component /> : <Navigate to=\"/login\" />}</>;\r\n}\r\n","import { Navigate } from 'react-router-dom';\r\n\r\nexport default function PublicRoute({ isAuth, component: Component }) {\r\n  return (\r\n    <>{isAuth ? <Navigate to=\"/contacts\" /> && <Component /> : <Component />}</>\r\n  );\r\n}\r\n","import s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","import { Suspense, lazy, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Routes, Route } from 'react-router-dom';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AppBar from '../AppBar/AppBar';\nimport {\n  getIsFetchCurrentUser,\n  getIsAuth,\n} from '../../redux/auth/auth-selectors';\nimport PrivateRoute from '../../routes/PrivateRoute';\nimport PublicRoute from '../../routes/PublicRoute';\nimport Container from '../../components/Container';\nimport { getCurrentUser } from '../../redux/auth/auth-operations';\n// import { fetchContacts } from '../../redux/Phonebook/phonebook-operations';\n\nconst HomePage = lazy(() =>\n  import(\n    '../../pages/HomePage/HomePage.js' /* webpackChunkName: \"home-page\" */\n  ),\n);\nconst Register = lazy(() =>\n  import(\n    '../../pages/Register/Register.js' /* webpackChunkName: \"register-page\" */\n  ),\n);\nconst Login = lazy(() =>\n  import('../../pages/Login/Login.js' /* webpackChunkName: \"login-page\" */),\n);\nconst Phonebook = lazy(() =>\n  import(\n    '../../pages/Phonebook/Phonebook.js' /* webpackChunkName: \"phonebook-page\" */\n  ),\n);\nconst App = () => {\n  const dispatch = useDispatch();\n  const isFetchCurrentUser = useSelector(getIsFetchCurrentUser);\n  const isAuth = useSelector(getIsAuth);\n\n  useEffect(() => {\n    dispatch(getCurrentUser());\n  }, [dispatch]);\n  return (\n    !isFetchCurrentUser && (\n      <>\n        <AppBar />\n        <ToastContainer />\n        <Container>\n          <Suspense fallback={<Loader />}>\n            <Routes>\n              <Route\n                path=\"/\"\n                element={<PublicRoute isAuth={isAuth} component={HomePage} />}\n              />\n              <Route\n                path=\"/contacts\"\n                element={<PrivateRoute isAuth={isAuth} component={Phonebook} />}\n              />\n              <Route\n                path=\"/login\"\n                element={<PublicRoute isAuth={isAuth} component={Login} />}\n              />\n              <Route\n                path=\"/register\"\n                element={<PublicRoute isAuth={isAuth} component={Register} />}\n              />\n            </Routes>\n          </Suspense>\n        </Container>\n      </>\n    )\n  );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport { persistor, store } from './redux/store';\r\nimport { Provider } from 'react-redux';\r\nimport './index.css';\r\nimport App from './components/App';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={<h2>Wait,loading...</h2>} persistor={persistor}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nexport async function fetchContacts() {\r\n  const { data } = await axios.get('/contacts');\r\n  return data;\r\n}\r\n\r\nexport async function addContact(contact) {\r\n  const { data } = await axios.post('/contacts', contact);\r\n\r\n  return data;\r\n}\r\n\r\nexport async function deleteContact(id) {\r\n  await axios.delete(`/contacts/${id}`);\r\n  return id;\r\n}\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\n\r\nimport * as contactsApi from '../../services/contactsApi';\r\n\r\nexport const fetchContacts = createAsyncThunk(\r\n  'contacts/fetchContacts',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const contacts = await contactsApi.fetchContacts();\r\n      return contacts;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nexport const addContact = createAsyncThunk(\r\n  'contacts/addContact',\r\n  async (contact, { rejectWithValue }) => {\r\n    try {\r\n      const items = await contactsApi.addContact(contact);\r\n      return items;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n\r\nexport const deleteContact = createAsyncThunk(\r\n  'contacts/deleteContact',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      await contactsApi.deleteContact(id);\r\n\r\n      return id;\r\n    } catch (error) {\r\n      return rejectWithValue(error.message);\r\n    }\r\n  },\r\n);\r\n","export const getIsAuth = state => state.auth.isAuth;\r\nexport const getUserName = state => state.auth.user.name;\r\nexport const getIsFetchCurrentUser = state => state.auth.isGetCurrentUser;\r\nexport const isUserErrorRejected = state => state.auth.error;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Navigation_link__3nKxS\",\"activeLink\":\"Navigation_activeLink__LJoVl Navigation_link__3nKxS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__32cjC\",\"avatar\":\"UserMenu_avatar__2Ripq\",\"name\":\"UserMenu_name__3U9Ps\",\"button\":\"UserMenu_button__3k-h9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"AuthNav_link__34s-z\",\"activeLink\":\"AuthNav_activeLink__3iQid AuthNav_link__34s-z\"};","import axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport authActions from './auth-actions';\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nexport const register = userData => dispatch => {\r\n  dispatch(authActions.registerRequest());\r\n\r\n  axios\r\n    .post('/users/signup', userData)\r\n    .then(response => {\r\n      token.set(response.data.token);\r\n      dispatch(authActions.registerSuccess(response.data));\r\n    })\r\n    .catch(error => dispatch(authActions.registerError(error)));\r\n};\r\n\r\nexport const logIn = userData => dispatch => {\r\n  dispatch(authActions.logInRequest());\r\n\r\n  axios\r\n    .post('/users/login', userData)\r\n    .then(response => {\r\n      token.set(response.data.token);\r\n      dispatch(authActions.logInSuccess(response.data));\r\n    })\r\n    .catch(error => {\r\n      dispatch(authActions.logInError(error.message));\r\n      toast.error(error.message);\r\n    });\r\n};\r\n\r\nexport const getCurrentUser = () => (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  dispatch(authActions.getCurrentUserRequest());\r\n\r\n  axios\r\n    .get('/users/current')\r\n    .then(({ data }) => dispatch(authActions.getCurrentUserSuccess(data)))\r\n    .catch(error => authActions.getCurrentUserError(error));\r\n};\r\n\r\nexport const logOut = () => dispatch => {\r\n  dispatch(authActions.logoutRequest());\r\n\r\n  axios\r\n    .post('/users/logout')\r\n    .then(() => {\r\n      token.unset();\r\n      dispatch(authActions.logoutSuccess());\r\n    })\r\n    .catch(error => dispatch(authActions.logoutError(error)));\r\n};\r\n","import {\r\n  addContact,\r\n  deleteContact,\r\n  fetchContacts,\r\n} from './phonebook-operations';\r\nimport { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst contactsSlice = createSlice({\r\n  name: 'phoneBook',\r\n  initialState: {\r\n    contacts: [],\r\n    isLoading: false,\r\n    filter: '',\r\n    // error: null,\r\n  },\r\n  reducers: {\r\n    changeFilter: (state, action) => {\r\n      state.filter = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchContacts.fulfilled](state, action) {\r\n      state.contacts = action.payload;\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [fetchContacts.pending](state) {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    [fetchContacts.rejected](state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n\r\n    [addContact.fulfilled](state, action) {\r\n      state.contacts.push(action.payload);\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [addContact.pending](state) {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    [addContact.rejected](state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n      console.log(action.payload);\r\n    },\r\n\r\n    [deleteContact.fulfilled](state, action) {\r\n      state.contacts = state.contacts.filter(\r\n        contact => contact.id !== action.payload,\r\n      );\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    [deleteContact.pending](state) {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    [deleteContact.rejected](state, action) {\r\n      state.isLoading = false;\r\n      state.error = action.payload;\r\n    },\r\n  },\r\n});\r\nexport default contactsSlice.reducer;\r\nexport const { changeFilter } = contactsSlice.actions;\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst logInRequest = createAction('auth/logInRequest');\r\nconst logInSuccess = createAction('auth/logInSuccess');\r\nconst logInError = createAction('auth/logInError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\nconst authActions = {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  logInRequest,\r\n  logInSuccess,\r\n  logInError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};\r\nexport default authActions;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__oS1-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__NkA0d\"};"],"sourceRoot":""}